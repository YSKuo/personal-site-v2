import { usePost } from "@reflexjs/gatsby-theme-post"

export const FeaturedPosts = ({ limit = 3}) => {
  const featuredPosts = usePost({ featured: true })
  
  return (
    <Container>
      <H3>Featured Posts</H3>
      {featuredPosts.slice(0, limit).map((post) => (
        <Article key={post.id} mb="10">
          <Grid col="350px 1fr" gap="8">
            <Image src={post.image} aspectRatio={3 / 2} />
            <Div>
              <H3 my="0"><Link to={post.slug}>{post.title}</Link></H3>
              <P>{post.excerpt}</P>
            </Div>
          </Grid>
        </Article>
      )})}
      <ButtonLink to="/blog" variant="secondary lg">
        More Posts <Icon name="arrow-right" ml="2" />
      </ButtonLink>
    </Container>
  );
}