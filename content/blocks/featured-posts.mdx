import { usePost } from "@reflexjs/gatsby-theme-post"

export const FeaturedPosts = ({ limit = 3}) => {
  const featuredPosts = usePost({ featured: true })
  
  return (
    <Section py="8|12|16|24">
      <Container>
        <H3>Featured Posts</H3>
        {featuredPosts.slice(0, limit).map((post) => (
          <Article key={post.id} mb="10">
            <H4 my="0"><Link to={post.slug}>{post.title}</Link></H4>
            <P>{post.excerpt}</P>
          </Article>
        ))}
        <ButtonLink to="/blog" 
          bg="white"
          hoverBg="primary"
          color="primary" 
          hoverColor="white"
          borderColor="primary"
        >
          More Posts <Icon name="arrow-right" ml="2" />
        </ButtonLink>
      </Container>
    </Section>
  );
}